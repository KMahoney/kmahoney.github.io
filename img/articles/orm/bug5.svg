<svg version="1.1" width="400" height="250" xmlns="http://www.w3.org/2000/svg">
  <style>
    /* <![CDATA[ */
    text { font-family: sans-serif; font-size: 14px; }
    .ann { font-size: 10px; font-style: italic; }
    .head  { font-size: 12px; font-weight: bold; }
    /* ]]> */
  </style>
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="1" refY="5" markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="black" />
    </marker>
  </defs>

  <line x1="200" y1="30" x2="200" y2="210" stroke-width="2" stroke="black" marker-end="url(#arrow)" />

  <text x="200" y="20" text-anchor="middle">state → NOT DONE</text>
  <text x="100" y="40" text-anchor="middle" class="head">T1</text>
  <text x="300" y="40" text-anchor="middle" class="head">T2</text>

  <g text-anchor="middle" transform="translate(100 90)">
    <text y="0">BEGIN</text>
    <text y="20">READ state → NOT DONE</text>
    <text y="40">CHECK state &#8800; DONE</text>
    <text y="60">do_state_transition()</text>
    <text y="80">WRITE state ← DONE</text>
    <text y="100">COMMIT</text>
  </g>

  <g text-anchor="middle" transform="translate(300 110)">
    <text y="0">BEGIN</text>
    <text y="20">READ state → NOT DONE</text>
    <text y="40">CHECK state &#8800; DONE</text>
    <text y="60">do_state_transition()</text>
    <text y="80">WRITE state ← DONE</text>
    <text y="100">COMMIT</text>
  </g>

</svg>
